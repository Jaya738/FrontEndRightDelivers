(this["webpackJsonpright-deliveres"]=this["webpackJsonpright-deliveres"]||[]).push([[17],{152:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a(168),o=a(176),c=Math.pow(2,31)-1;function s(){var e=Object(r.a)(),t=Object(n.useRef)();return Object(o.a)((function(){return clearTimeout(t.current)})),Object(n.useMemo)((function(){var a=function(){return clearTimeout(t.current)};return{set:function(n,r){void 0===r&&(r=0),e()&&(a(),r<=c?t.current=setTimeout(n,r):function e(t,a,n){var r=n-Date.now();t.current=r<=c?setTimeout(a,r):setTimeout((function(){return e(t,a,n)}),c)}(t,n,Date.now()+r))},clear:a}}),[])}},162:function(e,t,a){e.exports=a.p+"static/media/NegativeSVG.ef8ca0ab.svg"},255:function(e,t,a){"use strict";var n=a(3),r=a(5),o=a(0),c=a.n(o),s=a(132),l=a.n(s),i=a(152),u=a(177),m=a(167),f=a(134),d=a(180),b=c.a.createContext({onClose:function(){}}),p=c.a.forwardRef((function(e,t){var a=e.bsPrefix,s=e.closeLabel,i=e.closeButton,u=e.className,p=e.children,h=Object(r.a)(e,["bsPrefix","closeLabel","closeButton","className","children"]);a=Object(f.b)(a,"toast-header");var g=Object(o.useContext)(b),v=Object(m.a)((function(e){g&&g.onClose&&g.onClose(e)}));return c.a.createElement("div",Object(n.a)({ref:t},h,{className:l()(a,u)}),p,i&&c.a.createElement(d.a,{label:s,onClick:v,className:"ml-2 mb-1","data-dismiss":"toast"}))}));p.displayName="ToastHeader",p.defaultProps={closeLabel:"Close",closeButton:!0};var h=p,g=a(151),v=Object(g.a)("toast-body"),O={animation:!0,autohide:!1,delay:3e3,show:!0,transition:u.a},j=c.a.forwardRef((function(e,t){var a=e.bsPrefix,s=e.className,u=e.children,m=e.transition,d=e.show,p=e.animation,h=e.delay,g=e.autohide,v=e.onClose,O=Object(r.a)(e,["bsPrefix","className","children","transition","show","animation","delay","autohide","onClose"]);a=Object(f.b)("toast");var j=Object(o.useRef)(h),y=Object(o.useRef)(v);Object(o.useEffect)((function(){j.current=h,y.current=v}),[h,v]);var E=Object(i.a)(),N=Object(o.useCallback)((function(){g&&d&&y.current()}),[g,d]);E.set(N,j.current);var x=Object(o.useMemo)((function(){return m&&p}),[m,p]),w=c.a.createElement("div",Object(n.a)({},O,{ref:t,className:l()(a,s,!x&&(d?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"}),u),k={onClose:v};return c.a.createElement(b.Provider,{value:k},x?c.a.createElement(m,{in:d,unmountOnExit:!0},w):w)}));j.defaultProps=O,j.displayName="Toast",j.Body=v,j.Header=h;t.a=j},325:function(e,t,a){},571:function(e,t,a){"use strict";a.r(t);var n=a(29),r=a.n(n),o=a(42),c=a(43),s=a(1),l=a(41),i=a(0),u=a.n(i),m=a(4),f=a(21),d=a(11),b=(a(325),a(162)),p=a.n(b),h=a(255),g=a(14),v=a(16);t.default=Object(f.b)((function(e){return{config:e.config}}),(function(e){return{authenticate:function(t){return e(d.d(t))},setActiveOrders:function(t){return e(d.n(t))}}}))(Object(m.g)((function(e){var t=Object(m.f)(),a=Object(i.useState)(!0),n=Object(l.a)(a,2),f=n[0],d=n[1],b=Object(i.useState)(!1),O=Object(l.a)(b,2),j=O[0],y=O[1],E=Object(i.useState)({}),N=Object(l.a)(E,2),x=N[0],w=N[1],k=Object(i.useState)(30),C=Object(l.a)(k,2),S=C[0],T=C[1],P=(localStorage.getItem("ftoken"),Object(i.useState)("")),A=Object(l.a)(P,2),B=A[0],I=A[1],K=Object(i.useState)(""),R=Object(l.a)(K,2),_=R[0],D=R[1],J=Object(i.useState)(!1),z=Object(l.a)(J,2),L=z[0],M=z[1],V=Object(i.useState)(!1),q=Object(l.a)(V,2),H=q[0],W=q[1];Object(i.useEffect)((function(){e.config.isAuth&&t.push("/")}),[]),Object(i.useEffect)((function(){var e=null;return!H&S>0?e=setInterval((function(){T((function(e){return e-1}))}),1e3):0===S&&(clearInterval(e),W(!0)),function(){return clearInterval(e)}}),[H,S]);var G={fullname:"",phone:"",password:"",errors:{phone:"",password:"",fullname:"",signup:""}},U=Object(i.useState)(G),X=Object(l.a)(U,2),$=X[0],F=X[1],Q=g.b+"register/v2/resendotp",Y=function(){var e=Object(o.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={mobile:$.phone,pwd:$.password,name:$.fullname},a={method:"POST",headers:{"Content-Type":"application/json;charset=utf-8",rkey:x.rKey,dkey:x.dKey},body:JSON.stringify(t)},e.next=4,Object(v.a)(Q,a);case 4:return e.next=6,e.sent.json();case 6:if(!(n=e.sent)||0!==n.status){e.next=11;break}return D(n.msg),y(!0),e.abrupt("return");case 11:if(!n||1!==n.status){e.next=16;break}return D(n.msg),y(!0),w(n),e.abrupt("return");case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=g.b+"register/v2/sendotp",ee=function(){var e=Object(o.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={mobile:$.phone,pwd:$.password,name:$.fullname,ftoken:localStorage.getItem("ftoken")},a={method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)},e.next=4,Object(v.a)(Z,a);case 4:return e.next=6,e.sent.json();case 6:if(!(n=e.sent)||0!==n.status){e.next=11;break}return D(n.msg),y(!0),e.abrupt("return");case 11:if(!n||1!==n.status){e.next=19;break}return D(n.msg),y(!0),w(n),M(!0),T(30),0===n.isNewUser?(d(!1),F(Object(s.a)(Object(s.a)({},$),{},{fullname:n.name}))):d(!0),e.abrupt("return");case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e={phone:"",password:"",email:"",fullname:""},t=!0;return $.phone?"undefined"!==typeof $.phone?$.phone.match(/^[0-9]{10}$/)||(t=!1,e=Object(s.a)(Object(s.a)({},e),{},{phone:"*Please enter valid mobile no."})):e=Object(s.a)(Object(s.a)({},e),{},{phone:""}):(t=!1,e=Object(s.a)(Object(s.a)({},e),{},{phone:"*Please enter your mobile no."})),F(Object(s.a)(Object(s.a)({},$),{},{errors:e})),t},ae=g.b+"register/v2/submit",ne=function(){var a=Object(o.a)(r.a.mark((function a(){var n,o,c,l,i;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(localStorage.getItem("ftoken")),n={mobile:$.phone,pwd:$.password,name:$.fullname,otp:B,ftoken:localStorage.getItem("ftoken")},o={method:"POST",headers:{"Content-Type":"application/json;charset=utf-8",rkey:x.rKey,dkey:x.dKey},body:JSON.stringify(n)},a.next=5,Object(v.a)(ae,o);case 5:return a.next=7,a.sent.json();case 7:if(!(c=a.sent)||0!==c.status){a.next=12;break}return D(c.msg),y(!0),a.abrupt("return");case 12:c&&1===c.status&&(l=Object(s.a)({phone:$.phone,user:c.user,rKey:c.rKey,dKey:c.dKey},c),e.authenticate(l),e.setActiveOrders(c),D(c.msg),y(!0),t.push("/"),F(G),i=c.user.userid||"",Object(v.b)(i));case 13:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),re=u.a.createElement("form",{onSubmit:function(e){e.preventDefault(),te()&&ee()}},u.a.createElement("div",{style:{margin:"0px 0px 30px 0px",textAlign:"left"}},u.a.createElement("h5",{style:{textTransform:"uppercase",color:"#d30013"}},"Login"),u.a.createElement("p",{style:{fontSize:"12px",color:"#d30013"}},"Enter your mobile number to proceed")),u.a.createElement("div",{className:"form-group pos_rel"},u.a.createElement("input",{id:"phone[number]",name:"phone",type:"tel",value:$.phone,placeholder:"Mobile",onChange:function(e){var t=e.target,a=t.name,n=t.value;n.length<=10&&F(Object(s.a)(Object(s.a)({},$),{},Object(c.a)({},a,n)))},className:"form-control lgn_input",autoComplete:"off",required:!0}),u.a.createElement("i",{className:"uil uil-mobile-android-alt lgn_icon"})),u.a.createElement("button",{className:"login-btn hover-btn",style:{backgroundColor:10===$.phone.length?"#d30013":"grey"},disabled:10!==$.phone.length,type:"submit"},10===$.phone.length?"Send OTP":"Enter phone number")),oe=u.a.createElement(h.a,{onClose:function(){return y(!1)},show:j,delay:2e3,autohide:!0,style:{position:"fixed",bottom:"20vh",zIndex:"999",textAlign:"center",left:"50%",transform:"translateX(-50%)"}},u.a.createElement(h.a.Body,{style:{backgroundColor:"#2f4f4f",color:"white",borderBottom:"none",textAlign:"center",padding:"0.2rem 0.8rem"}},u.a.createElement("strong",{className:"mr-auto"},_))),ce=u.a.createElement("form",{onSubmit:function(e){e.preventDefault(),te()&&(M(!0),ne())}},u.a.createElement("div",{style:{padding:"20px 0px",textAlign:"left"}},!f&&u.a.createElement("h5",{style:{color:"#d30013"}},"Welcome back, ",$.fullname),u.a.createElement("span",{style:{fontSize:"12px"}},"OTP sent to ",$.phone),u.a.createElement("span",{onClick:function(){I(""),M(!1)},style:{fontSize:"12px"},className:"action-btn float-right"},u.a.createElement("i",{className:"uil uil-edit"}),"Change number")),f&&u.a.createElement("div",{className:"form-group pos_rel"},u.a.createElement("input",{id:"full[name]",name:"fullname",type:"text",placeholder:"Name",value:$.fullname,onChange:function(e){var t=e.target,a=t.name,n=t.value;F(Object(s.a)(Object(s.a)({},$),{},Object(c.a)({},a,n)))},className:"form-control lgn_input",autoComplete:"off",required:!0}),u.a.createElement("i",{className:"uil uil-user-circle lgn_icon"})),u.a.createElement("div",{className:"form-row form-group"},u.a.createElement("div",{className:"col d-flex"},u.a.createElement("input",{id:"otp",name:"otp",type:"tel",placeholder:"Enter OTP",value:B,onChange:function(e){e.target.value.length<=6&&I(e.target.value)},autoComplete:"off",className:"form-control "})),u.a.createElement("div",{className:"col"},u.a.createElement("button",{type:"submit",style:{backgroundColor:$.fullname.length>=3&&6===B.length?"#d30013":"grey"},disabled:!($.fullname.length>=3&&6===B.length),className:"w-100 otp-btn"},"Verify"))),u.a.createElement("div",{className:"form-group"},H?u.a.createElement("div",{onClick:function(){T(30),x&&Y(),W(!1)},style:{width:"100%"},className:"otp-wait-btn"},"Resend OTP"):u.a.createElement("div",{disabled:!0,style:{width:"100%"},className:"otp-wait-btn"},"Wait ",S," s")));return u.a.createElement("div",{className:"sign-inup"},oe,u.a.createElement("div",{className:"ColorBg-login"}),u.a.createElement("div",{className:"footer-more-area"},u.a.createElement("span",{style:{color:"white",bottom:"2vh",right:"33%",position:"fixed"},className:""},"App Version 1.0.1")),u.a.createElement("div",{className:"container"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-lg-5"},u.a.createElement("div",{className:"sign-form"},u.a.createElement("div",{className:"sign-inner"},u.a.createElement("div",{className:"sign-logo mt-5",id:"logo"},u.a.createElement("div",null,u.a.createElement("img",{src:p.a,alt:""})))),u.a.createElement("div",{className:"ColorBgDown signup-link"},u.a.createElement("div",{className:"dims checout-address-step"},L?ce:re)))))))})))}}]);
//# sourceMappingURL=17.c46f879a.chunk.js.map