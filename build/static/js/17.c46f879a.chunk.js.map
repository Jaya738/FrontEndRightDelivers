{"version":3,"sources":["../node_modules/@restart/hooks/esm/useTimeout.js","Assets/NegativeSVG.svg","../node_modules/react-bootstrap/esm/ToastContext.js","../node_modules/react-bootstrap/esm/ToastHeader.js","../node_modules/react-bootstrap/esm/ToastBody.js","../node_modules/react-bootstrap/esm/Toast.js","Containers/SignUp.js"],"names":["MAX_DELAY_MS","Math","pow","useTimeout","isMounted","useMounted","handleRef","useRef","useWillUnmount","clearTimeout","current","useMemo","clear","set","fn","delayMs","setTimeout","setChainedTimeout","timeoutAtMs","Date","now","module","exports","ToastContext","React","createContext","onClose","ToastHeader","forwardRef","_ref","ref","bsPrefix","closeLabel","closeButton","className","children","props","_objectWithoutPropertiesLoose","useBootstrapPrefix","context","useContext","handleClick","useEventCallback","e","createElement","_extends","classNames","CloseButton","label","onClick","displayName","defaultProps","createWithBsPrefix","animation","autohide","delay","show","transition","Fade","Toast","Transition","delayRef","onCloseRef","useEffect","autohideTimeout","autohideFunc","useCallback","hasAnimation","toast","role","toastContext","Provider","value","in","unmountOnExit","Body","Header","connect","state","config","dispatch","authenticate","payload","actionCreators","setActiveOrders","withRouter","history","useHistory","useState","newUser","setNewUser","showToast","setShowToast","otpData","setOtpData","seconds","setSeconds","localStorage","getItem","otp","setOtp","error","setError","showOTP","setShowOTP","enableResend","setEnableResend","isAuth","push","interval","setInterval","clearInterval","emptyLoginData","fullname","phone","password","errors","signup","loginData","setLoginData","apiUrl2","baseUrl","resendOTP","a","data","mobile","pwd","name","options","method","headers","rkey","rKey","dkey","dKey","body","JSON","stringify","fetchWithTimeout","json","res","status","msg","apiUrl","handleAuth","ftoken","isNewUser","validateForm","email","formIsValid","match","apiUrl3","submitOTP","console","log","user","usrid","userid","subscribeToSockets","signUpForm","onSubmit","preventDefault","style","margin","textAlign","textTransform","color","fontSize","id","type","placeholder","onChange","target","length","autoComplete","required","backgroundColor","disabled","errorToast","position","bottom","zIndex","left","transform","borderBottom","padding","OTPSubmit","width","right","src","logo","alt"],"mappings":"2HAAA,+DAYIA,EAAeC,KAAKC,IAAI,EAAG,IAAM,EActB,SAASC,IACtB,IAAIC,EAAYC,cAEZC,EAAYC,mBAIhB,OAHAC,aAAe,WACb,OAAOC,aAAaH,EAAUI,YAEzBC,mBAAQ,WACb,IAAIC,EAAQ,WACV,OAAOH,aAAaH,EAAUI,UAmBhC,MAAO,CACLG,IAjBF,SAAaC,EAAIC,QACC,IAAZA,IACFA,EAAU,GAGPX,MACLQ,IAEIG,GAAWf,EAEbM,EAAUI,QAAUM,WAAWF,EAAIC,GAlC3C,SAASE,EAAkBX,EAAWQ,EAAII,GACxC,IAAIH,EAAUG,EAAcC,KAAKC,MACjCd,EAAUI,QAAUK,GAAWf,EAAegB,WAAWF,EAAIC,GAAWC,YAAW,WACjF,OAAOC,EAAkBX,EAAWQ,EAAII,KACvClB,GAgCGiB,CAAkBX,EAAWQ,EAAIK,KAAKC,MAAQL,KAMhDH,MAAOA,KAER,M,oBC1DLS,EAAOC,QAAU,IAA0B,yC,kICI5BC,EAHIC,IAAMC,cAAc,CACrCC,QAAS,eCUPC,EAAcH,IAAMI,YAAW,SAAUC,EAAMC,GACjD,IAAIC,EAAWF,EAAKE,SAChBC,EAAaH,EAAKG,WAClBC,EAAcJ,EAAKI,YACnBC,EAAYL,EAAKK,UACjBC,EAAWN,EAAKM,SAChBC,EAAQC,YAA8BR,EAAM,CAAC,WAAY,aAAc,cAAe,YAAa,aAEvGE,EAAWO,YAAmBP,EAAU,gBACxC,IAAIQ,EAAUC,qBAAWjB,GACrBkB,EAAcC,aAAiB,SAAUC,GACvCJ,GAAWA,EAAQb,SACrBa,EAAQb,QAAQiB,MAGpB,OAAoBnB,IAAMoB,cAAc,MAAOC,YAAS,CACtDf,IAAKA,GACJM,EAAO,CACRF,UAAWY,IAAWf,EAAUG,KAC9BC,EAAUF,GAA4BT,IAAMoB,cAAcG,IAAa,CACzEC,MAAOhB,EACPiB,QAASR,EACTP,UAAW,YACX,eAAgB,cAGpBP,EAAYuB,YAAc,cAC1BvB,EAAYwB,aA/BO,CACjBnB,WAAY,QACZC,aAAa,GA8BAN,Q,SCvCAyB,cAAmB,cCS9BD,EAAe,CACjBE,WAAW,EACXC,UAAU,EACVC,MAAO,IACPC,MAAM,EACNC,WAAYC,KAEVC,EAAQnC,IAAMI,YAAW,SAAUC,EAAMC,GAC3C,IAAIC,EAAWF,EAAKE,SAChBG,EAAYL,EAAKK,UACjBC,EAAWN,EAAKM,SAChByB,EAAa/B,EAAK4B,WAClBD,EAAO3B,EAAK2B,KACZH,EAAYxB,EAAKwB,UACjBE,EAAQ1B,EAAK0B,MACbD,EAAWzB,EAAKyB,SAChB5B,EAAUG,EAAKH,QACfU,EAAQC,YAA8BR,EAAM,CAAC,WAAY,YAAa,WAAY,aAAc,OAAQ,YAAa,QAAS,WAAY,YAE9IE,EAAWO,YAAmB,SAC9B,IAAIuB,EAAWtD,iBAAOgD,GAClBO,EAAavD,iBAAOmB,GACxBqC,qBAAU,WAGRF,EAASnD,QAAU6C,EACnBO,EAAWpD,QAAUgB,IACpB,CAAC6B,EAAO7B,IACX,IAAIsC,EAAkB7D,cAClB8D,EAAeC,uBAAY,WACvBZ,GAAYE,GAIlBM,EAAWpD,YACV,CAAC4C,EAAUE,IACdQ,EAAgBnD,IAAIoD,EAAcJ,EAASnD,SAC3C,IAAIyD,EAAexD,mBAAQ,WACzB,OAAOiD,GAAcP,IACpB,CAACO,EAAYP,IACZe,EAAqB5C,IAAMoB,cAAc,MAAOC,YAAS,GAAIT,EAAO,CACtEN,IAAKA,EACLI,UAAWY,IAAWf,EAAUG,GAAYiC,IAAiBX,EAAO,OAAS,SAC7Ea,KAAM,QACN,YAAa,YACb,cAAe,SACblC,GACAmC,EAAe,CACjB5C,QAASA,GAEX,OAAoBF,IAAMoB,cAAcrB,EAAagD,SAAU,CAC7DC,MAAOF,GACNH,EAA4B3C,IAAMoB,cAAcgB,EAAY,CAC7Da,GAAIjB,EACJkB,eAAe,GACdN,GAASA,MAEdT,EAAMR,aAAeA,EACrBQ,EAAMT,YAAc,QACpBS,EAAMgB,KAAOA,EACbhB,EAAMiB,OAASA,EACAjB,O,6MCsYAkB,uBAbS,SAACC,GACvB,MAAO,CACLC,OAAQD,EAAMC,WAGS,SAACC,GAC1B,MAAO,CACLC,aAAc,SAACC,GAAD,OAAaF,EAASG,IAA4BD,KAChEE,gBAAiB,SAACF,GAAD,OACfF,EAASG,IAA+BD,QAI/BL,CAA6CQ,aAnc5D,SAAgBjD,GACd,IAAMkD,EAAUC,cADK,EAESC,oBAAS,GAFlB,mBAEdC,EAFc,KAELC,EAFK,OAGaF,oBAAS,GAHtB,mBAGdG,EAHc,KAGHC,EAHG,OAISJ,mBAAS,IAJlB,mBAIdK,EAJc,KAILC,EAJK,OAKSN,mBAAS,IALlB,mBAKdO,EALc,KAKLC,EALK,QAMNC,aAAaC,QAAQ,UACdV,mBAAS,KAPV,mBAOdW,EAPc,KAOTC,EAPS,OAQKZ,mBAAS,IARd,mBAQda,EARc,KAQPC,EARO,OASSd,oBAAS,GATlB,mBASde,EATc,KASLC,EATK,OAWmBhB,oBAAS,GAX5B,mBAWdiB,EAXc,KAWAC,EAXA,KAerB3C,qBAAU,WACJ3B,EAAM2C,OAAO4B,QACfrB,EAAQsB,KAAK,OAId,IACH7C,qBAAU,WACR,IAAI8C,EAAW,KASf,OARKJ,EAAgBV,EAAU,EAC7Bc,EAAWC,aAAY,WACrBd,GAAW,SAACD,GAAD,OAAaA,EAAU,OACjC,KACkB,IAAZA,IACTgB,cAAcF,GACdH,GAAgB,IAEX,kBAAMK,cAAcF,MAE1B,CAACJ,EAAcV,IAElB,IAAMiB,EAAiB,CACrBC,SAAU,GACVC,MAAO,GACPC,SAAU,GACVC,OAAQ,CAAEF,MAAO,GAAIC,SAAU,GAAIF,SAAU,GAAII,OAAQ,KAxCtC,EA0Ca7B,mBAASwB,GA1CtB,mBA0CdM,EA1Cc,KA0CHC,EA1CG,KA4DfC,EAAUC,IAAU,wBACpBC,EAAS,uCAAG,gCAAAC,EAAA,6DACVC,EAAO,CACXC,OAAQP,EAAUJ,MAClBY,IAAKR,EAAUH,SACfY,KAAMT,EAAUL,UAEZe,EAAU,CACdC,OAAQ,OACRC,QAAS,CACP,eAAgB,iCAChBC,KAAMtC,EAAQuC,KACdC,KAAMxC,EAAQyC,MAEhBC,KAAMC,KAAKC,UAAUb,IAbP,SAeSc,YAAiBlB,EAASQ,GAfnC,8BAe6CW,OAf7C,YAeVC,EAfU,SAgBU,IAAfA,EAAIC,OAhBC,wBAiBdvC,EAASsC,EAAIE,KACblD,GAAa,GAlBC,+BAqBZgD,GAAsB,IAAfA,EAAIC,OArBC,wBAsBdvC,EAASsC,EAAIE,KACblD,GAAa,GACbE,EAAW8C,GAxBG,+DAAH,qDA4BTG,EAAStB,IAAU,sBACnBuB,GAAU,uCAAG,gCAAArB,EAAA,6DACXC,EAAO,CACXC,OAAQP,EAAUJ,MAClBY,IAAKR,EAAUH,SACfY,KAAMT,EAAUL,SAChBgC,OAAQhD,aAAaC,QAAQ,WAEzB8B,EAAU,CACdC,OAAQ,OACRC,QAAS,CACP,eAAgB,kCAElBK,KAAMC,KAAKC,UAAUb,IAZN,SAeQc,YAAiBK,EAAQf,GAfjC,8BAe2CW,OAf3C,YAeXC,EAfW,SAgBS,IAAfA,EAAIC,OAhBE,wBAiBfvC,EAASsC,EAAIE,KACblD,GAAa,GAlBE,+BAqBbgD,GAAsB,IAAfA,EAAIC,OArBE,wBAsBfvC,EAASsC,EAAIE,KACblD,GAAa,GACbE,EAAW8C,GACXpC,GAAW,GACXR,EAAW,IACW,IAAlB4C,EAAIM,WACNxD,GAAW,GACX6B,EAAa,2BAAKD,GAAN,IAAiBL,SAAU2B,EAAIb,SAE3CrC,GAAW,GA/BE,+DAAH,qDAqCVyD,GAAe,WACnB,IAAI/B,EAAS,CAAEF,MAAO,GAAIC,SAAU,GAAIiC,MAAO,GAAInC,SAAU,IACzDoC,GAAc,EAwDlB,OArCK/B,EAAS,MAM2B,qBAAvBA,EAAS,MACpBA,EAAS,MAAUgC,MAAM,iBAC5BD,GAAc,EACdjC,EAAM,2BACDA,GADC,IAEJF,MAAO,oCAIXE,EAAM,2BACDA,GADC,IAEJF,MAAO,MAhBTmC,GAAc,EACdjC,EAAM,2BACDA,GADC,IAEJF,MAAO,mCA6BXK,EAAa,2BACRD,GADO,IAEVF,OAAQA,KAEHiC,GAeHE,GAAU9B,IAAU,qBACpB+B,GAAS,uCAAG,oCAAA7B,EAAA,6DAChB8B,QAAQC,IAAIzD,aAAaC,QAAQ,WAC3B0B,EAAO,CACXC,OAAQP,EAAUJ,MAClBY,IAAKR,EAAUH,SACfY,KAAMT,EAAUL,SAChBd,IAAKA,EACL8C,OAAQhD,aAAaC,QAAQ,WAEzB8B,EAAU,CACdC,OAAQ,OACRC,QAAS,CACP,eAAgB,iCAChBC,KAAMtC,EAAQuC,KACdC,KAAMxC,EAAQyC,MAEhBC,KAAMC,KAAKC,UAAUb,IAhBP,SAmBSc,YAAiBa,GAASvB,GAnBnC,8BAmB6CW,OAnB7C,YAmBVC,EAnBU,SAoBU,IAAfA,EAAIC,OApBC,wBAqBdvC,EAASsC,EAAIE,KACblD,GAAa,GAtBC,2BAyBZgD,GAAsB,IAAfA,EAAIC,SACP3D,EADqB,aAEzBgC,MAAOI,EAAUJ,MACjByC,KAAMf,EAAIe,KACVvB,KAAMQ,EAAIR,KACVE,KAAMM,EAAIN,MACPM,GAELxG,EAAM6C,aAAaC,GACnB9C,EAAMgD,gBAAgBwD,GACtBtC,EAASsC,EAAIE,KACblD,GAAa,GAEbN,EAAQsB,KAAK,KACbW,EAAaP,GACP4C,EAAQhB,EAAIe,KAAKE,QAAU,GACjCC,YAAmBF,IAzCL,4CAAH,qDAoDTG,GACJ,0BAAMC,SA5Da,SAACrH,GACpBA,EAAEsH,iBACEd,MACFH,OA0DA,yBAAKkB,MAAO,CAAEC,OAAQ,mBAAoBC,UAAW,SACnD,wBAAIF,MAAO,CAAEG,cAAe,YAAaC,MAAO,YAAhD,SACA,uBAAGJ,MAAO,CAAEK,SAAU,OAAQD,MAAO,YAArC,wCAIF,yBAAKpI,UAAU,sBACb,2BACEsI,GAAG,gBACHzC,KAAK,QACL0C,KAAK,MACLjG,MAAO8C,EAAUJ,MACjBwD,YAAY,SACZC,SA7Na,SAAChI,GAAO,IAAD,EACFA,EAAEiI,OAAlB7C,EADkB,EAClBA,KAAMvD,EADY,EACZA,MACdA,EAAMqG,QAAU,IAAMtD,EAAa,2BAAKD,GAAN,kBAAkBS,EAAOvD,MA4NrDtC,UAAU,yBACV4I,aAAa,MACbC,UAAQ,IAEV,uBAAG7I,UAAU,yCAEf,4BACEA,UAAU,sBACVgI,MAAO,CACLc,gBAA4C,KAA3B1D,EAAUJ,MAAM2D,OAAgB,UAAY,QAE/DI,SAAqC,KAA3B3D,EAAUJ,MAAM2D,OAC1BJ,KAAK,UAEuB,KAA3BnD,EAAUJ,MAAM2D,OAAgB,WAAa,uBAK9CK,GACJ,kBAAC,IAAD,CACExJ,QAAS,kBAAMkE,GAAa,IAC5BpC,KAAMmC,EACNpC,MAAO,IACPD,UAAQ,EACR4G,MAAO,CACLiB,SAAU,QACVC,OAAQ,OACRC,OAAQ,MACRjB,UAAW,SACXkB,KAAM,MACNC,UAAW,qBAGb,kBAAC,IAAM5G,KAAP,CACEuF,MAAO,CACLc,gBAAiB,UACjBV,MAAO,QACPkB,aAAc,OACdpB,UAAW,SACXqB,QAAS,kBAGV,4BAAQvJ,UAAU,WAAWmE,KAK9BqF,GACJ,0BAAM1B,SAzEU,SAACrH,GACjBA,EAAEsH,iBACEd,OACF3C,GAAW,GACXgD,QAsEA,yBAAKU,MAAO,CAAEuB,QAAS,WAAYrB,UAAW,UAC1C3E,GACA,wBAAIyE,MAAO,CAAEI,MAAO,YAApB,iBACiBhD,EAAUL,UAG7B,0BAAMiD,MAAO,CAAEK,SAAU,SAAzB,eAAgDjD,EAAUJ,OAC1D,0BACEjE,QA5RW,WACjBmD,EAAO,IACPI,GAAW,IA2RL0D,MAAO,CAAEK,SAAU,QACnBrI,UAAU,0BAEV,uBAAGA,UAAU,iBALf,kBAQDuD,GACC,yBAAKvD,UAAU,sBACb,2BACEsI,GAAG,aACHzC,KAAK,WACL0C,KAAK,OACLC,YAAY,OACZlG,MAAO8C,EAAUL,SACjB0D,SAnSe,SAAChI,GAAO,IAAD,EACNA,EAAEiI,OAAlB7C,EADsB,EACtBA,KAAMvD,EADgB,EAChBA,MACd+C,EAAa,2BAAKD,GAAN,kBAAkBS,EAAOvD,MAkS7BtC,UAAU,yBACV4I,aAAa,MACbC,UAAQ,IAEV,uBAAG7I,UAAU,kCAGjB,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,cACb,2BACEsI,GAAG,MACHzC,KAAK,MACL0C,KAAK,MACLC,YAAY,YACZlG,MAAO2B,EACPwE,SA/Sc,SAAChI,GACnBA,EAAEiI,OAAOpG,MAAMqG,QAAU,GAC3BzE,EAAOzD,EAAEiI,OAAOpG,QA8SVsG,aAAa,MACb5I,UAAU,mBAGd,yBAAKA,UAAU,OACb,4BACEuI,KAAK,SACLP,MAAO,CACLc,gBACE1D,EAAUL,SAAS4D,QAAU,GAAoB,IAAf1E,EAAI0E,OAClC,UACA,QAERI,WAAY3D,EAAUL,SAAS4D,QAAU,GAAoB,IAAf1E,EAAI0E,QAClD3I,UAAU,iBATZ,YAgBJ,yBAAKA,UAAU,cACXuE,EAKA,yBACExD,QAxMW,WACnB+C,EAAW,IACPH,GACF6B,IAEFhB,GAAgB,IAoMRwD,MAAO,CAAEyB,MAAO,QAChBzJ,UAAU,gBAHZ,cAJA,yBAAK+I,UAAQ,EAACf,MAAO,CAAEyB,MAAO,QAAUzJ,UAAU,gBAAlD,QACQ6D,EADR,QAeR,OACE,yBAAK7D,UAAU,aACZgJ,GACD,yBAAKhJ,UAAU,kBACf,yBAAKA,UAAU,oBACb,0BACEgI,MAAO,CACLI,MAAO,QACPc,OAAQ,MACRQ,MAAO,MACPT,SAAU,SAEZjJ,UAAU,IAPZ,sBAYF,yBAAKA,UAAU,aACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,cACb,yBAAKA,UAAU,iBAAiBsI,GAAG,QACjC,6BACE,yBAAKqB,IAAKC,IAAMC,IAAI,QAI1B,yBAAK7J,UAAU,2BACb,yBAAKA,UAAU,6BACXqE,EAAuBmF,GAAb3B","file":"static/js/17.c46f879a.chunk.js","sourcesContent":["import { useMemo, useRef } from 'react';\nimport useMounted from './useMounted';\nimport useWillUnmount from './useWillUnmount';\n/*\n * Browsers including Internet Explorer, Chrome, Safari, and Firefox store the\n * delay as a 32-bit signed integer internally. This causes an integer overflow\n * when using delays larger than 2,147,483,647 ms (about 24.8 days),\n * resulting in the timeout being executed immediately.\n *\n * via: https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setTimeout\n */\n\nvar MAX_DELAY_MS = Math.pow(2, 31) - 1;\n\nfunction setChainedTimeout(handleRef, fn, timeoutAtMs) {\n  var delayMs = timeoutAtMs - Date.now();\n  handleRef.current = delayMs <= MAX_DELAY_MS ? setTimeout(fn, delayMs) : setTimeout(function () {\n    return setChainedTimeout(handleRef, fn, timeoutAtMs);\n  }, MAX_DELAY_MS);\n}\n/**\n * Returns a controller object for setting a timeout that is properly cleaned up\n * once the component unmounts. New timeouts cancel and replace existing ones.\n */\n\n\nexport default function useTimeout() {\n  var isMounted = useMounted(); // types are confused between node and web here IDK\n\n  var handleRef = useRef();\n  useWillUnmount(function () {\n    return clearTimeout(handleRef.current);\n  });\n  return useMemo(function () {\n    var clear = function clear() {\n      return clearTimeout(handleRef.current);\n    };\n\n    function set(fn, delayMs) {\n      if (delayMs === void 0) {\n        delayMs = 0;\n      }\n\n      if (!isMounted()) return;\n      clear();\n\n      if (delayMs <= MAX_DELAY_MS) {\n        // For simplicity, if the timeout is short, just set a normal timeout.\n        handleRef.current = setTimeout(fn, delayMs);\n      } else {\n        setChainedTimeout(handleRef, fn, Date.now() + delayMs);\n      }\n    }\n\n    return {\n      set: set,\n      clear: clear\n    };\n  }, []);\n}","module.exports = __webpack_public_path__ + \"static/media/NegativeSVG.ef8ca0ab.svg\";","import React from 'react';\nvar ToastContext = React.createContext({\n  onClose: function onClose() {}\n});\nexport default ToastContext;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React, { useContext } from 'react';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport CloseButton from './CloseButton';\nimport ToastContext from './ToastContext';\nvar defaultProps = {\n  closeLabel: 'Close',\n  closeButton: true\n};\nvar ToastHeader = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      closeLabel = _ref.closeLabel,\n      closeButton = _ref.closeButton,\n      className = _ref.className,\n      children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"closeLabel\", \"closeButton\", \"className\", \"children\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'toast-header');\n  var context = useContext(ToastContext);\n  var handleClick = useEventCallback(function (e) {\n    if (context && context.onClose) {\n      context.onClose(e);\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref\n  }, props, {\n    className: classNames(bsPrefix, className)\n  }), children, closeButton && /*#__PURE__*/React.createElement(CloseButton, {\n    label: closeLabel,\n    onClick: handleClick,\n    className: \"ml-2 mb-1\",\n    \"data-dismiss\": \"toast\"\n  }));\n});\nToastHeader.displayName = 'ToastHeader';\nToastHeader.defaultProps = defaultProps;\nexport default ToastHeader;","import createWithBsPrefix from './createWithBsPrefix';\nexport default createWithBsPrefix('toast-body');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React, { useEffect, useRef, useMemo, useCallback } from 'react';\nimport classNames from 'classnames';\nimport useTimeout from '@restart/hooks/useTimeout';\nimport Fade from './Fade';\nimport Header from './ToastHeader';\nimport Body from './ToastBody';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport ToastContext from './ToastContext';\nvar defaultProps = {\n  animation: true,\n  autohide: false,\n  delay: 3000,\n  show: true,\n  transition: Fade\n};\nvar Toast = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      children = _ref.children,\n      Transition = _ref.transition,\n      show = _ref.show,\n      animation = _ref.animation,\n      delay = _ref.delay,\n      autohide = _ref.autohide,\n      onClose = _ref.onClose,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"children\", \"transition\", \"show\", \"animation\", \"delay\", \"autohide\", \"onClose\"]);\n\n  bsPrefix = useBootstrapPrefix('toast');\n  var delayRef = useRef(delay);\n  var onCloseRef = useRef(onClose);\n  useEffect(function () {\n    // We use refs for these, because we don't want to restart the autohide\n    // timer in case these values change.\n    delayRef.current = delay;\n    onCloseRef.current = onClose;\n  }, [delay, onClose]);\n  var autohideTimeout = useTimeout();\n  var autohideFunc = useCallback(function () {\n    if (!(autohide && show)) {\n      return;\n    }\n\n    onCloseRef.current();\n  }, [autohide, show]);\n  autohideTimeout.set(autohideFunc, delayRef.current);\n  var hasAnimation = useMemo(function () {\n    return Transition && animation;\n  }, [Transition, animation]);\n  var toast = /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    ref: ref,\n    className: classNames(bsPrefix, className, !hasAnimation && (show ? 'show' : 'hide')),\n    role: \"alert\",\n    \"aria-live\": \"assertive\",\n    \"aria-atomic\": \"true\"\n  }), children);\n  var toastContext = {\n    onClose: onClose\n  };\n  return /*#__PURE__*/React.createElement(ToastContext.Provider, {\n    value: toastContext\n  }, hasAnimation ? /*#__PURE__*/React.createElement(Transition, {\n    in: show,\n    unmountOnExit: true\n  }, toast) : toast);\n});\nToast.defaultProps = defaultProps;\nToast.displayName = 'Toast';\nToast.Body = Body;\nToast.Header = Header;\nexport default Toast;","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory, withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actionCreators from \"../Store/actions/index\";\r\nimport \"./login.css\";\r\nimport logo from \"../Assets/NegativeSVG.svg\";\r\nimport { Toast } from \"react-bootstrap\";\r\nimport { baseUrl } from \"../config\";\r\nimport { subscribeToSockets, fetchWithTimeout } from \"../api\";\r\n\r\nfunction SignUp(props) {\r\n  const history = useHistory();\r\n  const [newUser, setNewUser] = useState(true);\r\n  const [showToast, setShowToast] = useState(false);\r\n  const [otpData, setOtpData] = useState({});\r\n  const [seconds, setSeconds] = useState(30);\r\n  const ftoken = localStorage.getItem(\"ftoken\") || \"\";\r\n  const [otp, setOtp] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [showOTP, setShowOTP] = useState(false);\r\n  // const [showPswd, setShowPswd] = useState(false);\r\n  const [enableResend, setEnableResend] = useState(false);\r\n  // const toggleShowPassword = () => {\r\n  //   setShowPswd(!showPswd);\r\n  // };\r\n  useEffect(() => {\r\n    if (props.config.isAuth) {\r\n      history.push(\"/\");\r\n      return;\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  useEffect(() => {\r\n    let interval = null;\r\n    if (!enableResend & (seconds > 0)) {\r\n      interval = setInterval(() => {\r\n        setSeconds((seconds) => seconds - 1);\r\n      }, 1000);\r\n    } else if (seconds === 0) {\r\n      clearInterval(interval);\r\n      setEnableResend(true);\r\n    }\r\n    return () => clearInterval(interval);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [enableResend, seconds]);\r\n\r\n  const emptyLoginData = {\r\n    fullname: \"\",\r\n    phone: \"\",\r\n    password: \"\",\r\n    errors: { phone: \"\", password: \"\", fullname: \"\", signup: \"\" },\r\n  };\r\n  const [loginData, setLoginData] = useState(emptyLoginData);\r\n  const editNumber = () => {\r\n    setOtp(\"\");\r\n    setShowOTP(false);\r\n  };\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    value.length <= 10 && setLoginData({ ...loginData, [name]: value });\r\n  };\r\n  const handleNameChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setLoginData({ ...loginData, [name]: value });\r\n  };\r\n  const handleOTPChange = (e) => {\r\n    if (e.target.value.length <= 6) {\r\n      setOtp(e.target.value);\r\n    }\r\n  };\r\n  const apiUrl2 = baseUrl + \"register/v2/resendotp\";\r\n  const resendOTP = async () => {\r\n    const data = {\r\n      mobile: loginData.phone,\r\n      pwd: loginData.password,\r\n      name: loginData.fullname,\r\n    };\r\n    const options = {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=utf-8\",\r\n        rkey: otpData.rKey,\r\n        dkey: otpData.dKey,\r\n      },\r\n      body: JSON.stringify(data),\r\n    };\r\n    const res = await (await fetchWithTimeout(apiUrl2, options)).json();\r\n    if (res && res.status === 0) {\r\n      setError(res.msg);\r\n      setShowToast(true);\r\n      return;\r\n    }\r\n    if (res && res.status === 1) {\r\n      setError(res.msg);\r\n      setShowToast(true);\r\n      setOtpData(res);\r\n      return;\r\n    }\r\n  };\r\n  const apiUrl = baseUrl + \"register/v2/sendotp\";\r\n  const handleAuth = async () => {\r\n    const data = {\r\n      mobile: loginData.phone,\r\n      pwd: loginData.password,\r\n      name: loginData.fullname,\r\n      ftoken: localStorage.getItem(\"ftoken\"),\r\n    };\r\n    const options = {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    };\r\n\r\n    const res = await (await fetchWithTimeout(apiUrl, options)).json();\r\n    if (res && res.status === 0) {\r\n      setError(res.msg);\r\n      setShowToast(true);\r\n      return;\r\n    }\r\n    if (res && res.status === 1) {\r\n      setError(res.msg);\r\n      setShowToast(true);\r\n      setOtpData(res);\r\n      setShowOTP(true);\r\n      setSeconds(30);\r\n      if (res.isNewUser === 0) {\r\n        setNewUser(false);\r\n        setLoginData({ ...loginData, fullname: res.name });\r\n      } else {\r\n        setNewUser(true);\r\n      }\r\n      return;\r\n    }\r\n  };\r\n\r\n  const validateForm = () => {\r\n    let errors = { phone: \"\", password: \"\", email: \"\", fullname: \"\" };\r\n    let formIsValid = true;\r\n\r\n    // if (typeof loginData[\"fullname\"] !== \"undefined\") {\r\n    //   if (\r\n    //     !(loginData[\"fullname\"].length > 2 && loginData.fullname.length < 20)\r\n    //   ) {\r\n    //     formIsValid = false;\r\n    //     errors = {\r\n    //       ...errors,\r\n    //       fullname: \"*Please choose a user name between 3-20 characters\",\r\n    //     };\r\n    //   }\r\n    // } else {\r\n    //   errors = {\r\n    //     ...errors,\r\n    //     fullname: \"\",\r\n    //   };\r\n    // }\r\n\r\n    if (!loginData[\"phone\"]) {\r\n      formIsValid = false;\r\n      errors = {\r\n        ...errors,\r\n        phone: \"*Please enter your mobile no.\",\r\n      };\r\n    } else if (typeof loginData[\"phone\"] !== \"undefined\") {\r\n      if (!loginData[\"phone\"].match(/^[0-9]{10}$/)) {\r\n        formIsValid = false;\r\n        errors = {\r\n          ...errors,\r\n          phone: \"*Please enter valid mobile no.\",\r\n        };\r\n      }\r\n    } else {\r\n      errors = {\r\n        ...errors,\r\n        phone: \"\",\r\n      };\r\n    }\r\n\r\n    // if (!loginData[\"password\"]) {\r\n    //   formIsValid = false;\r\n    //   errors[\"password\"] = \"*Please enter your password.\";\r\n    // } else if (typeof loginData[\"password\"] !== \"undefined\") {\r\n    //   if (!loginData[\"password\"].length > 8) {\r\n    //     formIsValid = false;\r\n    //     errors[\"password\"] = \"*Please enter atleast 8 characters\";\r\n    //   }\r\n    // } else {\r\n    //   errors[\"password\"] = \"\";\r\n    // }\r\n\r\n    setLoginData({\r\n      ...loginData,\r\n      errors: errors,\r\n    });\r\n    return formIsValid;\r\n  };\r\n  const handleResend = () => {\r\n    setSeconds(30);\r\n    if (otpData) {\r\n      resendOTP();\r\n    }\r\n    setEnableResend(false);\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (validateForm()) {\r\n      handleAuth();\r\n    }\r\n  };\r\n  const apiUrl3 = baseUrl + \"register/v2/submit\";\r\n  const submitOTP = async () => {\r\n    console.log(localStorage.getItem(\"ftoken\"));\r\n    const data = {\r\n      mobile: loginData.phone,\r\n      pwd: loginData.password,\r\n      name: loginData.fullname,\r\n      otp: otp,\r\n      ftoken: localStorage.getItem(\"ftoken\"),\r\n    };\r\n    const options = {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=utf-8\",\r\n        rkey: otpData.rKey,\r\n        dkey: otpData.dKey,\r\n      },\r\n      body: JSON.stringify(data),\r\n    };\r\n\r\n    const res = await (await fetchWithTimeout(apiUrl3, options)).json();\r\n    if (res && res.status === 0) {\r\n      setError(res.msg);\r\n      setShowToast(true);\r\n      return;\r\n    }\r\n    if (res && res.status === 1) {\r\n      const payload = {\r\n        phone: loginData.phone,\r\n        user: res.user,\r\n        rKey: res.rKey,\r\n        dKey: res.dKey,\r\n        ...res,\r\n      };\r\n      props.authenticate(payload);\r\n      props.setActiveOrders(res);\r\n      setError(res.msg);\r\n      setShowToast(true);\r\n      //setOtpData(res);\r\n      history.push(\"/\");\r\n      setLoginData(emptyLoginData);\r\n      const usrid = res.user.userid || \"\";\r\n      subscribeToSockets(usrid);\r\n    }\r\n  };\r\n  const verifyOTP = (e) => {\r\n    e.preventDefault();\r\n    if (validateForm()) {\r\n      setShowOTP(true);\r\n      submitOTP();\r\n    }\r\n  };\r\n\r\n  const signUpForm = (\r\n    <form onSubmit={handleSubmit}>\r\n      <div style={{ margin: \"0px 0px 30px 0px\", textAlign: \"left\" }}>\r\n        <h5 style={{ textTransform: \"uppercase\", color: \"#d30013\" }}>Login</h5>\r\n        <p style={{ fontSize: \"12px\", color: \"#d30013\" }}>\r\n          Enter your mobile number to proceed\r\n        </p>\r\n      </div>\r\n      <div className=\"form-group pos_rel\">\r\n        <input\r\n          id=\"phone[number]\"\r\n          name=\"phone\"\r\n          type=\"tel\"\r\n          value={loginData.phone}\r\n          placeholder=\"Mobile\"\r\n          onChange={handleChange}\r\n          className=\"form-control lgn_input\"\r\n          autoComplete=\"off\"\r\n          required\r\n        />\r\n        <i className=\"uil uil-mobile-android-alt lgn_icon\"></i>\r\n      </div>\r\n      <button\r\n        className=\"login-btn hover-btn\"\r\n        style={{\r\n          backgroundColor: loginData.phone.length === 10 ? \"#d30013\" : \"grey\",\r\n        }}\r\n        disabled={loginData.phone.length !== 10}\r\n        type=\"submit\"\r\n      >\r\n        {loginData.phone.length === 10 ? \"Send OTP\" : \"Enter phone number\"}\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  const errorToast = (\r\n    <Toast\r\n      onClose={() => setShowToast(false)}\r\n      show={showToast}\r\n      delay={2000}\r\n      autohide\r\n      style={{\r\n        position: \"fixed\",\r\n        bottom: \"20vh\",\r\n        zIndex: \"999\",\r\n        textAlign: \"center\",\r\n        left: \"50%\",\r\n        transform: \"translateX(-50%)\",\r\n      }}\r\n    >\r\n      <Toast.Body\r\n        style={{\r\n          backgroundColor: \"#2f4f4f\",\r\n          color: \"white\",\r\n          borderBottom: \"none\",\r\n          textAlign: \"center\",\r\n          padding: \"0.2rem 0.8rem\",\r\n        }}\r\n      >\r\n        {<strong className=\"mr-auto\">{error}</strong>}\r\n      </Toast.Body>\r\n    </Toast>\r\n  );\r\n\r\n  const OTPSubmit = (\r\n    <form onSubmit={verifyOTP}>\r\n      <div style={{ padding: \"20px 0px\", textAlign: \"left\" }}>\r\n        {!newUser && (\r\n          <h5 style={{ color: \"#d30013\" }}>\r\n            Welcome back, {loginData.fullname}\r\n          </h5>\r\n        )}\r\n        <span style={{ fontSize: \"12px\" }}>OTP sent to {loginData.phone}</span>\r\n        <span\r\n          onClick={editNumber}\r\n          style={{ fontSize: \"12px\" }}\r\n          className=\"action-btn float-right\"\r\n        >\r\n          <i className=\"uil uil-edit\"></i>Change number\r\n        </span>\r\n      </div>\r\n      {newUser && (\r\n        <div className=\"form-group pos_rel\">\r\n          <input\r\n            id=\"full[name]\"\r\n            name=\"fullname\"\r\n            type=\"text\"\r\n            placeholder=\"Name\"\r\n            value={loginData.fullname}\r\n            onChange={handleNameChange}\r\n            className=\"form-control lgn_input\"\r\n            autoComplete=\"off\"\r\n            required\r\n          />\r\n          <i className=\"uil uil-user-circle lgn_icon\"></i>\r\n        </div>\r\n      )}\r\n      <div className=\"form-row form-group\">\r\n        <div className=\"col d-flex\">\r\n          <input\r\n            id=\"otp\"\r\n            name=\"otp\"\r\n            type=\"tel\"\r\n            placeholder=\"Enter OTP\"\r\n            value={otp}\r\n            onChange={handleOTPChange}\r\n            autoComplete=\"off\"\r\n            className=\"form-control \"\r\n          />\r\n        </div>\r\n        <div className=\"col\">\r\n          <button\r\n            type=\"submit\"\r\n            style={{\r\n              backgroundColor:\r\n                loginData.fullname.length >= 3 && otp.length === 6\r\n                  ? \"#d30013\"\r\n                  : \"grey\",\r\n            }}\r\n            disabled={!(loginData.fullname.length >= 3 && otp.length === 6)}\r\n            className=\"w-100 otp-btn\"\r\n          >\r\n            Verify\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        {!enableResend ? (\r\n          <div disabled style={{ width: \"100%\" }} className=\"otp-wait-btn\">\r\n            Wait {seconds} s\r\n          </div>\r\n        ) : (\r\n          <div\r\n            onClick={handleResend}\r\n            style={{ width: \"100%\" }}\r\n            className=\"otp-wait-btn\"\r\n          >\r\n            Resend OTP\r\n          </div>\r\n        )}\r\n      </div>\r\n    </form>\r\n  );\r\n  return (\r\n    <div className=\"sign-inup\">\r\n      {errorToast}\r\n      <div className=\"ColorBg-login\"></div>\r\n      <div className=\"footer-more-area\">\r\n        <span\r\n          style={{\r\n            color: \"white\",\r\n            bottom: \"2vh\",\r\n            right: \"33%\",\r\n            position: \"fixed\",\r\n          }}\r\n          className=\"\"\r\n        >\r\n          App Version 1.0.1\r\n        </span>\r\n      </div>\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-5\">\r\n            <div className=\"sign-form\">\r\n              <div className=\"sign-inner\">\r\n                <div className=\"sign-logo mt-5\" id=\"logo\">\r\n                  <div>\r\n                    <img src={logo} alt=\"\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"ColorBgDown signup-link\">\r\n                <div className=\"dims checout-address-step\">\r\n                  {!showOTP ? signUpForm : OTPSubmit}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    config: state.config,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    authenticate: (payload) => dispatch(actionCreators.authenticate(payload)),\r\n    setActiveOrders: (payload) =>\r\n      dispatch(actionCreators.setActiveOrders(payload)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(SignUp));\r\n"],"sourceRoot":""}