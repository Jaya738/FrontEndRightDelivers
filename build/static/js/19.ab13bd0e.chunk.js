(this["webpackJsonpright-deliveres"]=this["webpackJsonpright-deliveres"]||[]).push([[19],{155:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(34),l=a(5),s=a(26);t.a=Object(s.b)((function(e){return{config:e.config,cartCount:e.cart.cartItems.length}}))(Object(l.g)((function(e){var t=e.cartCount;return r.a.createElement("div",{className:"fixed-top align-middle",style:{position:"fixed",padding:"0.5rem 1rem",top:"0",width:"100%",backgroundColor:"#2F4F4F",zIndex:"10"}},r.a.createElement("div",{style:{paddingTop:"4vh",display:"flex",alignItems:"center"}},r.a.createElement("div",{onClick:e.back,style:{fontSize:"20px",color:"white",padding:"0px 20px"}},r.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})),r.a.createElement("span",{style:{fontSize:"18px",color:"white"}},e.heading),r.a.createElement(o.b,{to:"/dashboard/cart",className:"option_links ml-auto mr-3"},r.a.createElement("i",{className:"uil uil-shopping-cart-alt icon_wishlist"}),r.a.createElement("span",{className:"noti_count1"},t))))})))},249:function(e,t,a){"use strict";var n=a(1),r=a(287),o=a(288),l=a(347),s=a(346),c=a(0),i=a.n(c),d=a(289),m=(a(273),a(344)),p=a.n(m),u=a(345),g=a.n(u),h=a(16);p.a.setApiKey(h.a),p.a.enableDebug();var f=function(e){Object(l.a)(a,e);var t=Object(s.a)(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).handleLocationError=function(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message)),o.props.setError("Please Allow location access. ( Unblock if not prompted to allow)"),o.props.setShowToast(!0)},o.getLiveLocation=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(o.setLiveLocation,o.handleLocationError,{enableHighAccuracy:!0,timeout:5e3,maximumAge:1e4}):(o.props.setError("Location Service is not supported by your device."),o.props.setShowToast(!0))},o.setLiveLocation=function(e){var t=e.coords;console.log(t),p.a.fromLatLng(t.latitude,t.longitude).then((function(e){var a=e.results[0].formatted_address,r=e.results[0].address_components,l=o.getCity(r),s=o.getArea(r),c=o.getState(r);o.setState(Object(n.a)(Object(n.a)({},o.state),{},{showMapFooter:!0,address:a||"",area:s||"",city:l||"",state:c||"",mapPosition:{lat:t.latitude,lng:t.longitude},markerPosition:{lat:t.latitude,lng:t.longitude}})),o.props.handleAddressFromMap(o.state)}))},o.handleCloseFooter=function(){o.setState(Object(n.a)(Object(n.a)({},o.state),{},{showMapFooter:!1}))},o.getCity=function(e){for(var t=0;t<e.length;t++)if(e[t].types[0]&&"administrative_area_level_2"===e[t].types[0])return e[t].long_name},o.getArea=function(e){for(var t=0;t<e.length;t++)if(e[t].types[0])for(var a=0;a<e[t].types.length;a++)if("sublocality_level_1"===e[t].types[a]||"locality"===e[t].types[a])return e[t].long_name},o.getState=function(e){for(var t=0;t<e.length;t++)for(var a=0;a<e.length;a++)if(e[a].types[0]&&"administrative_area_level_1"===e[a].types[0])return e[a].long_name},o.onMarkerDragEnd=function(e){var t=e.latLng.lat(),a=e.latLng.lng();p.a.fromLatLng(t,a).then((function(e){var r=e.results[0].formatted_address,l=e.results[0].address_components,s=o.getCity(l),c=o.getArea(l),i=o.getState(l);o.setState(Object(n.a)(Object(n.a)({},o.state),{},{showMapFooter:!0,address:r||"",area:c||"",city:s||"",state:i||"",markerPosition:{lat:t,lng:a},mapPosition:{lat:t,lng:a}})),o.props.handleAddressFromMap(o.state)}),(function(e){console.error(e)}))},o.onPlaceSelected=function(e){var t=e.formatted_address,a=e.address_components,r=o.getCity(a),l=o.getArea(a),s=o.getState(a),c=e.geometry.location.lat(),i=e.geometry.location.lng();o.setState(Object(n.a)(Object(n.a)({},o.state),{},{showMapFooter:!0,address:t||"",area:l||"",city:r||"",state:s||"",markerPosition:{lat:c,lng:i},mapPosition:{lat:c,lng:i}})),o.props.handleAddressFromMap(o.state)},o.state={address:"",showMapFooter:!0,city:"",area:"",state:"",mapPosition:{lat:o.props.center.lat,lng:o.props.center.lng},markerPosition:{lat:o.props.center.lat,lng:o.props.center.lng}},o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getLiveLocation(),p.a.fromLatLng(this.state.mapPosition.lat,this.state.mapPosition.lng).then((function(t){var a=t.results[0].formatted_address,r=t.results[0].address_components,o=e.getCity(r),l=e.getArea(r),s=e.getState(r);e.setState(Object(n.a)(Object(n.a)({},e.state),{},{showMapFooter:!0,address:a||"",area:l||"",city:o||"",state:s||""})),e.props.handleAddressFromMap(e.state)}),(function(e){console.error(e)}))}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.markerPosition.lat!==this.props.center.lat||this.state.address!==t.address||this.state.city!==t.city||this.state.area!==t.area||this.state.state!==t.state||this.props.center.lat!==e.center.lat&&void 0}},{key:"render",value:function(){var e=this,t=Object(d.withScriptjs)(Object(d.withGoogleMap)((function(t){return i.a.createElement(d.GoogleMap,{google:e.props.google,defaultZoom:e.props.zoom,defaultCenter:{lat:e.state.mapPosition.lat,lng:e.state.mapPosition.lng}},i.a.createElement(d.Marker,{google:e.props.google,name:"Pin",draggable:!0,onDragEnd:e.onMarkerDragEnd,position:{lat:e.state.markerPosition.lat,lng:e.state.markerPosition.lng}}),i.a.createElement(d.Marker,null),i.a.createElement("div",{className:"map-overlay d-flex"},i.a.createElement("i",{style:{fontSize:"18px",marginTop:"3vh"},className:"fa fa-search","aria-hidden":"true"}),i.a.createElement(g.a,{style:{width:"55%",height:"6vh",right:"2%",paddingLeft:"16px",background:"none",border:"0",outline:"0",color:"white",borderRadius:"5px",position:"relative",marginTop:"8px",fontSize:"16px"},onPlaceSelected:e.onPlaceSelected,types:["(regions)"],placeholder:"Search your location",componentRestrictions:{country:"in"}}),i.a.createElement("span",{onClick:e.getLiveLocation,style:{color:"white",marginTop:"2.7vh",paddingRight:"10px"}},"Live Location"),i.a.createElement("i",{className:"fa fa-map-marked-alt icon__1",style:{color:"white"},onClick:e.getLiveLocation,"aria-hidden":"true"})),i.a.createElement("div",{className:"map-overlay-footer",style:{display:e.state.showMapFooter?"block":"none"}},i.a.createElement("div",{className:"show-address"},e.state.address),i.a.createElement("span",{className:"close-address-display",onClick:e.handleCloseFooter},i.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})),i.a.createElement("span",{className:"next-address-button",onClick:e.props.handleCloseMap},"Continue",i.a.createElement("i",{className:"fa fa-angle-right ml-2","aria-hidden":"true"}))))})));return void 0!==this.props.center.lat?i.a.createElement("div",null,i.a.createElement(t,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=".concat(h.a,"&libraries=places"),loadingElement:i.a.createElement("div",{style:{height:"100%"}}),containerElement:i.a.createElement("div",{style:{height:"100vh",margin:"0",padding:"0"}}),mapElement:i.a.createElement("div",{style:{height:"100%"}})})):i.a.createElement("div",{style:{height:this.props.height}})}}]),a}(c.Component);t.a=f},273:function(e,t,a){},597:function(e,t,a){"use strict";a.r(t);var n=a(51),r=a(1),o=a(12),l=a(0),s=a.n(l),c=a(177),i=a(5),d=a(26),m=a(249),p=a(155),u=a(154),g=a(15);a(16),a(19);t.default=Object(d.b)((function(e){return{config:e.config}}),(function(e){return{setPickupAddress:function(t){return e(g.D(t))},setDropAddress:function(t){return e(g.x(t))}}}))(Object(c.geolocated)({positionOptions:{enableHighAccuracy:!0},userDecisionTimeout:5e3})((function(e){var t=Object(l.useState)(!0),a=Object(o.a)(t,2),c=a[0],d=a[1],g=Object(i.f)(),h=Object(l.useState)(!1),f=Object(o.a)(h,2),v=f[0],E=f[1],b=Object(l.useState)(""),y=Object(o.a)(b,2),N=y[0],O=y[1],j=Object(l.useState)(!0),k=Object(o.a)(j,2),C=k[0],w=(k[1],Object(l.useState)({lat:"",lng:""})),S=Object(o.a)(w,2),x=S[0],A=S[1],L={id:"",name:e.config.authData.user.name,type:1,new:!0,phone:e.config.authData.phone,flat:"",street:"",area:"",city:"",lat:"",lng:""},P=Object(l.useState)(L),_=Object(o.a)(P,2),F=_[0],M=_[1];Object(l.useEffect)((function(){A({lat:"",lng:""})}),[]);var D=function(e){var t=e.target,a=t.name,o=t.value;M(Object(r.a)(Object(r.a)({},F),{},Object(n.a)({},a,o)))},T=s.a.createElement(u.a,{onClose:function(){return E(!1)},show:v,delay:2e3,autohide:!0,style:{position:"fixed",bottom:"20vh",zIndex:"999",textAlign:"center",left:"50%",transform:"translateX(-50%)"}},s.a.createElement(u.a.Body,{style:{backgroundColor:"#2f4f4f",color:"white",borderBottom:"none",textAlign:"center",padding:"0.2rem 0.8rem"}},s.a.createElement("strong",{className:"mr-auto"},N))),z=s.a.createElement(s.a.Fragment,null,s.a.createElement(p.a,{heading:"Add Address",back:function(){return g.goBack()}}),T,s.a.createElement("div",{className:"all-product-grid container",style:{padding:"2px 15px"}},s.a.createElement("div",{className:"row",style:{marginTop:"8vh"}},s.a.createElement("div",{className:"col-lg-12 container checout-address-step"},s.a.createElement("form",{className:"",onSubmit:function(t){C?(t.preventDefault(),g.goBack(),"pickup"===e.addressSource?e.setPickupAddress(F):"drop"===e.addressSource&&e.setDropAddress(F)):(t.preventDefault(),O("We can't deliver to your location."),E(!0))}},s.a.createElement("div",{className:"address-fieldset"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6 col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"product-radio"},s.a.createElement("ul",{className:"product-now"},s.a.createElement("li",null,s.a.createElement("input",{type:"radio",name:"address1",id:"ad1",checked:1===F.type,onChange:function(){return M(Object(r.a)(Object(r.a)({},F),{},{type:1}))}}),s.a.createElement("label",{htmlFor:"ad1"},"Home")),s.a.createElement("li",null,s.a.createElement("input",{type:"radio",name:"address2",id:"ad2",checked:2===F.type,onChange:function(){return M(Object(r.a)(Object(r.a)({},F),{},{type:2}))}}),s.a.createElement("label",{htmlFor:"ad2"},"Office")),s.a.createElement("li",null,s.a.createElement("input",{type:"radio",name:"address3",id:"ad3",checked:3===F.type,onChange:function(){return M(Object(r.a)(Object(r.a)({},F),{},{type:3}))}}),s.a.createElement("label",{htmlFor:"ad3"},"Other")))))),F.area&&s.a.createElement("div",{className:"address-item"},s.a.createElement("div",{className:"address-dt-all"},s.a.createElement("div",{style:{display:"flex",fontSize:"14px",fontWeight:"bold",justifyContent:"space-between"}},"Selected Address",s.a.createElement("div",{className:"d-flex",onClick:function(){return d(!0)}},"Edit",s.a.createElement("i",{className:"uil uil-edit"}))),s.a.createElement("p",null,F.area))),s.a.createElement("div",{className:"col-lg-6 col-md-12",style:{marginBottom:"20px"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Name*"),s.a.createElement("input",{id:"name",name:"name",type:"text",placeholder:"Enter name",value:F.name,onChange:D,className:"form-control input-md",required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Mobile.*"),s.a.createElement("input",{id:"phone",name:"phone",type:"tel",placeholder:"Enter mobile number",value:F.phone,onChange:D,className:"form-control input-md",required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Flat / House / Office No.*"),s.a.createElement("input",{id:"flat",name:"flat",type:"text",placeholder:"Flat No.",value:F.flat,onChange:D,className:"form-control input-md",required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Area*"),s.a.createElement("input",{id:"area",name:"area",type:"text",placeholder:"Area",value:F.area,onChange:D,className:"form-control input-md",required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Street*"),s.a.createElement("input",{id:"street",name:"street",type:"text",placeholder:"Locality",value:F.street,onChange:D,className:"form-control input-md",required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"City*"),s.a.createElement("input",{id:"city",name:"city",type:"text",placeholder:"Enter your Town/City",value:F.city,onChange:D,className:"form-control input-md",required:!0}))),s.a.createElement("div",{className:"col-lg-12 col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"address-btns"},s.a.createElement("div",{className:""},s.a.createElement("button",{type:"submit",className:"save-btn14 hover-btn"},"Add Address")),s.a.createElement("div",{className:"col"},s.a.createElement("button",{onClick:function(){g.goBack()},className:"next-btn16 hover-btn float-right"},"Back")))))))))))),B=s.a.createElement("div",{style:{width:"100%",overflow:"hidden",position:"absolute"}},T,s.a.createElement(m.a,{google:e.google,center:x,height:"100%",zoom:15,handleAddressFromMap:function(e){M(Object(r.a)(Object(r.a)({},F),{},{area:e.address,street:e.area,city:e.area,lat:e.mapPosition.lat,lon:e.mapPosition.lng}))},handleCloseMap:function(){C?d(!1):(O("We can't deliver to your location."),E(!0))},isServicable:C,setError:O,setShowToast:E}));return c?B:z})))}}]);
//# sourceMappingURL=19.ab13bd0e.chunk.js.map