{"version":3,"sources":["Components/Common/MblNavbar.js","Assets/NegativeSVG.svg","Components/Common/Spinner.js","Components/Common/spinner.svg","Components/DropDown/Location.js","Components/Header/Header.js","Components/Common/Search/Search.js","Components/Restaurants/restaurant.svg","Components/Restaurants/RItemNew.js","Components/Restaurants/RListNew.js"],"names":["connect","state","config","cartCount","cart","cartItems","length","withRouter","props","className","style","position","padding","top","width","backgroundColor","zIndex","paddingTop","display","alignItems","onClick","back","fontSize","color","aria-hidden","heading","to","module","exports","src","spinner","marginLeft","marginRight","left","alt","curLocation","branches","dispatch","changeLocation","payload","actionCreators","history","useHistory","useState","show","setShow","notifModal","Modal","onHide","centered","Body","fontWeight","map","branch","key","name","alignContent","loc","push","find","updateLocation","marginTop","id","logo","Search","displayText","value","handleSearch","onClear","justifyContent","margin","border","borderRadius","type","placeholder","onChange","setCurRestaurant","setCurService","setBackUrl","isClosed","setIsClosed","fallBackImage","Object","values","services","service","link","match","params","appimage","backUrl","location","pathname","useEffect","timeData","d","Date","time","getHours","getDay","JSON","parse","data","t1","slice","t2","t3","t4","url","opacity","boxShadow","Image","pic","imgUrl","height","objectFit","disc","rat","paddingLeft","restaurants","restaurant","updateRestaurants","setLoadedRestaurants","baseUrl","index","setIndex","searchInput","setSearchInput","items","setItems","loading","setLoading","loadMore","setLoadMore","loadedData","setLoadedData","filteredData","filter","toLowerCase","includes","getData","newProds","prevState","concat","loadRestaurants","window","addEventListener","handleScroll","removeEventListener","innerHeight","document","documentElement","scrollTop","offsetHeight","apiUrl","curBranch","bid","a","options","method","headers","fetchWithTimeout","json","res","shops","noItems","textAlign","loadSpinner","Spinner","afterLoading","Header","MblNavbar","charAt","toUpperCase","goBack","e","target","item","RItemNew"],"mappings":"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","file":"static/js/10.5a1fe238.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nfunction MblNavbar(props) {\r\n  const cartCount = props.cartCount;\r\n  const navStyle = {\r\n    position: \"fixed\",\r\n    padding: \"0.5rem 1rem\",\r\n    top: \"0\",\r\n    width: \"100%\",\r\n    backgroundColor: \"#2F4F4F\",\r\n    zIndex: \"10\",\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed-top align-middle\" style={navStyle}>\r\n      <div\r\n        style={{\r\n          paddingTop: \"4vh\",\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <div\r\n          onClick={props.back}\r\n          style={{\r\n            fontSize: \"20px\",\r\n            color: \"white\",\r\n            padding: \"0px 20px\",\r\n          }}\r\n        >\r\n          <i className=\"fa fa-angle-left\" aria-hidden=\"true\"></i>\r\n        </div>\r\n        <span\r\n          style={{\r\n            fontSize: \"18px\",\r\n            color: \"white\",\r\n          }}\r\n        >\r\n          {props.heading}\r\n        </span>\r\n        <Link to=\"/dashboard/cart\" className=\"option_links ml-auto mr-3\">\r\n          <i className=\"uil uil-shopping-cart-alt icon_wishlist\"></i>\r\n          <span className=\"noti_count1\">{cartCount}</span>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    config: state.config,\r\n    cartCount: state.cart.cartItems.length,\r\n  };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(MblNavbar));\r\n","module.exports = __webpack_public_path__ + \"static/media/NegativeSVG.ef8ca0ab.svg\";","import React from \"react\";\r\nimport spinner from \"./spinner.svg\";\r\nimport \"./Spinner.css\";\r\n\r\nexport default () => {\r\n  return (\r\n    <div className=\"bodyMain\">\r\n      <img\r\n        src={spinner}\r\n        style={{\r\n          width: \"30%\",\r\n          display: \"block\",\r\n          marginLeft: \"auto\",\r\n          marginRight: \"auto\",\r\n          position: \"absolute\",\r\n          top: \"45%\",\r\n          left: \"42%\",\r\n        }}\r\n        alt=\"Loading...\"\r\n      />\r\n      {/* <div className=\"bodySpinner\">\r\n        <span className=\"spinnerSpan\">\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n        </span>\r\n        <div className=\"base\">\r\n          <span></span>\r\n          <div className=\"face\"></div>\r\n        </div>\r\n      </div>\r\n      <div className=\"longfazers\">\r\n        <span></span>\r\n        <span></span>\r\n        <span></span>\r\n        <span></span>\r\n      </div>\r\n      <h1 className=\"loadText\">loading ...</h1> */}\r\n    </div>\r\n  );\r\n};\r\n","module.exports = __webpack_public_path__ + \"static/media/spinner.bab4b43c.svg\";","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./Menu.css\";\r\nimport * as actionCreators from \"../../Store/actions/index\";\r\n\r\nfunction Location(props) {\r\n  const history = useHistory();\r\n  const handleClose = () => {\r\n    setShow(false);\r\n  };\r\n  const branches = props.branches;\r\n  const [show, setShow] = useState(false);\r\n  const curLocation = props.curLocation;\r\n  const updateLocation = (loc) => {\r\n    setShow(false);\r\n    history.push(\"/\" + loc);\r\n    const payload = branches.find((branch) => branch.name === loc);\r\n    props.changeLocation(payload);\r\n  };\r\n  const notifModal = (\r\n    <Modal show={show} onHide={handleClose} centered>\r\n      <Modal.Body>\r\n        <h5 style={{ fontWeight: \"bold\", padding: \"0px 15px\" }}>\r\n          Select your Location\r\n        </h5>\r\n        {branches.map((branch) => (\r\n          <div\r\n            key={branch.name}\r\n            className=\"myLoc item drop-item\"\r\n            style={{ alignContent: \"left\" }}\r\n            onClick={() => updateLocation(branch.name)}\r\n          >\r\n            <i className=\"uil uil-location-point\"></i>\r\n            {branch.name}\r\n          </div>\r\n        ))}\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {notifModal}\r\n      <div className=\"header-color\">\r\n        <span\r\n          className=\"btn\"\r\n          style={{ color: \"white\" }}\r\n          onClick={() => setShow(true)}\r\n        >\r\n          <i className=\"uil uil-location-point\"></i>\r\n          {curLocation ? curLocation : \"Pick Your Location\"}\r\n        </span>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    curLocation: state.config.curLocation,\r\n    branches: state.config.branches,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    changeLocation: (payload) => dispatch(actionCreators.setLocation(payload)),\r\n  };\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Location);\r\n","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./header.css\";\r\nimport Location from \"../DropDown/Location\";\r\nimport logo from \"../../Assets/NegativeSVG.svg\";\r\n\r\nfunction Header(props) {\r\n  // const backUrl = props.location.pathname;\r\n  // const isAuth = props.config.isAuth;\r\n  const curLocation = props.config.curLocation;\r\n  \r\n  return (\r\n    <nav\r\n      className=\"navbar header clearfix\"\r\n      style={{\r\n        backgroundColor: \"#2F4F4F\",\r\n        zIndex: \"10\",\r\n      }}\r\n    >\r\n      <div className=\"top-header-group\" style={{ marginTop: \"4vh\" }}>\r\n        <div className=\"float-left\">\r\n          <div className=\"res_main_logo\" id=\"logo\">\r\n            <Link to={\"/\" + curLocation}>\r\n              <img src={logo} alt=\"Right Delivers\" />\r\n            </Link>\r\n          </div>\r\n\r\n        </div>\r\n        <div className=\"select_location d-flex float-right align-middle mt-2\">\r\n          <Location />\r\n          <Link to=\"/notifications\">\r\n             <i style={{color:\"white\",padding:\"0.4rem 1.0rem\"}} className=\"fa fa-bell\" aria-hidden=\"true\"></i>\r\n          </Link>\r\n        </div> \r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    config: state.config,\r\n    cartCount: state.cart.cartItems.length,\r\n  };\r\n};\r\nexport default connect(mapStateToProps)(withRouter(Header));\r\n","import React, { useState } from \"react\";\r\nimport \"./search.css\";\r\n\r\nexport default function Search({\r\n  displayText = \"Search\",\r\n  value = \"\",\r\n  handleSearch,\r\n  onClear,\r\n}) {\r\n  return (\r\n    <div\r\n      className=\"restaurants-search-box d-flex\"\r\n      style={{ justifyContent: \"left\", margin: \"0px 16px\" }}\r\n    >\r\n      <input\r\n        style={{\r\n          border: \"none\",\r\n          backgroundColor: \"transparent\",\r\n          color: \"#2f4f4f\",\r\n          fontSize: \"16px\",\r\n          borderRadius: \"5px\",\r\n        }}\r\n        className=\"search-input-field\"\r\n        type=\"text\"\r\n        placeholder={displayText}\r\n        value={value}\r\n        onChange={handleSearch}\r\n      />\r\n      {value !== \"\" && (\r\n        <button\r\n          className=\"clear-search-field\"\r\n          onClick={onClear}\r\n          style={{\r\n            border: \"none\",\r\n            backgroundColor: \"grey\",\r\n            color: \"white\",\r\n            padding: \"4px 12px\",\r\n            borderRadius: \"5px\",\r\n            fontSize:\"12px\"\r\n          }}\r\n        >\r\n          Clear\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/restaurant.2a9740dd.svg\";","import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter, useHistory } from \"react-router-dom\";\r\nimport { Image } from \"react-bootstrap\";\r\nimport image from \"./restaurant.svg\";\r\nimport * as actionCreators from \"../../Store/actions/index\";\r\nimport \"./restaurants.css\";\r\nimport { imgUrl } from \"../../config\";\r\n\r\nfunction RestaurantItem(props) {\r\n  const [isClosed, setIsClosed] = useState(true);\r\n  const fallBackImage = Object.values(props.config.services).find((service) => service.link === props.match.params.service).appimage\r\n  const backUrl = props.location.pathname;\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    let timeData = {};\r\n    const days = [\"sun\", \"mon\", \"tue\", \"wed\", \"thu\", \"fri\", \"sat\"];\r\n    var d = new Date();\r\n    const time = d.getHours();\r\n    if (d.getDay() === 0) {\r\n      timeData = JSON.parse(props.data.time)[6];\r\n    } else {\r\n      timeData = JSON.parse(props.data.time)[d.getDay() - 1];\r\n    }\r\n\r\n    if (timeData[days[d.getDay()]] === \"o\") {\r\n      if (\r\n        (time >= +timeData.t1.slice(0, 2) && time < +timeData.t2.slice(0, 2)) ||\r\n        (time >= +timeData.t3.slice(0, 2) && time < +timeData.t4.slice(0, 2))\r\n      ) {\r\n        setIsClosed(false);\r\n      } else {\r\n        setIsClosed(true);\r\n      }\r\n    } else {\r\n      setIsClosed(true);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  const selectRestaurant = () => {\r\n    if (!isClosed) {\r\n      history.push(props.match.url + \"/\" + props.data.id);\r\n      props.setBackUrl(backUrl);\r\n      const payload = {\r\n        ...props.data,\r\n      };\r\n      props.setCurRestaurant(payload);\r\n      props.setCurService(payload);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"col col-12 col-sm-6 col-md-4 \">\r\n      <div\r\n        onClick={selectRestaurant}\r\n        style={{ opacity: isClosed ? \"0.5\" : \"1\" }}\r\n      >\r\n        <div\r\n          className=\"row align-items-center rest-item no-gutters mb-4\"\r\n          style={{ boxShadow: \"0px 3px 4px 2px rgba(0, 0, 0, .14)\" }}\r\n        >\r\n          <div className=\"col col-3 col-sm-4 p-2 mt-2 mb-2\">\r\n            <Image\r\n              src={\r\n                props.data.pic\r\n                  ? imgUrl + \"restaurants/shops/\" + props.data.pic\r\n                  : imgUrl + \"services/\" + fallBackImage\r\n              }\r\n              style={{\r\n                borderRadius: \"3px\",\r\n                width: \"90px\",\r\n                height: \"70px\",\r\n                objectFit: \"cover\",\r\n              }}\r\n            />\r\n          </div>\r\n          <div className=\"col col-9 col-sm-8 p-3 pl-4\">\r\n            <div>\r\n              <span className=\"rest-name\">{props.data.name}</span> <br />\r\n              <span className=\"sub-text\">{props.data.disc}</span> <br />\r\n            </div>\r\n            <div>\r\n              <span\r\n                style={{\r\n                  fontSize: \"9px\",\r\n                  color: \"white\",\r\n                  backgroundColor: \"#2f4f4f\",\r\n                  padding: \"4px\",\r\n                  borderRadius: \"4px\",\r\n                }}\r\n              >\r\n                <span>{props.data.rat}</span>\r\n                <span\r\n                  className=\"fa fa-star\"\r\n                  style={{ color: \"white\", paddingLeft: \"3px\" }}\r\n                ></span>\r\n              </span>\r\n              <span className=\"pl-2 pr-2\" style={{ color: \"grey\" }}>\r\n                |\r\n              </span>\r\n              {isClosed ? (\r\n                <span className=\"sub-text\" style={{ color: \"#d30013\" }}>\r\n                  Closed\r\n                </span>\r\n              ) : (\r\n                <span className=\"sub-text\" style={{ color: \"green\" }}>\r\n                  Open\r\n                </span>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    config: state.config,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setCurRestaurant: (payload) =>\r\n      dispatch(actionCreators.setCurRestaurant(payload)),\r\n    setCurService: (payload) => dispatch(actionCreators.setCurService(payload)),\r\n    setBackUrl: (payload) => dispatch(actionCreators.setBackUrl(payload)),\r\n  };\r\n};\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(RestaurantItem));\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { withRouter, useHistory } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport RItemNew from \"./RItemNew\";\r\nimport Header from \"../Header/Header\";\r\n//import StickyCart from \"../StickyCart\";\r\nimport Spinner from \"../Common/Spinner\";\r\nimport * as actionCreators from \"../../Store/actions/index\";\r\nimport MblNavbar from \"../Common/MblNavbar\";\r\nimport Search from \"../Common/Search/Search\";\r\nimport { fetchWithTimeout } from '../../api';\r\n\r\nfunction RestaurantList(props) {\r\n  const step = 8;\r\n  const baseUrl = props.config.baseUrl;\r\n  const history = useHistory();\r\n  const [index, setIndex] = useState(0);\r\n  const [searchInput, setSearchInput] = useState(\"\");\r\n  const [items, setItems] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadMore, setLoadMore] = useState(false);\r\n  const [loadedData, setLoadedData] = useState([]);\r\n  const handleSearch = (e) => {\r\n    setSearchInput(e.target.value);\r\n  };\r\n  //search\r\n  useEffect(() => {\r\n    const filteredData = loadedData.filter((data) => {\r\n      if (searchInput === \"\") {\r\n        return data;\r\n      }\r\n      if (\r\n        data.name.toLowerCase().includes(searchInput.toLowerCase()) ||\r\n        data.disc.toLowerCase().includes(searchInput.toLowerCase())\r\n      ) {\r\n        return data;\r\n      }\r\n    });\r\n    setItems(filteredData);\r\n  }, [searchInput]);\r\n  const getData = () => {\r\n    setIndex(index + step);\r\n    const newProds = props.restaurants.items\r\n      ? props.restaurants.items.slice(index, index + step)\r\n      : [];\r\n    setItems((prevState) => prevState.concat(newProds));\r\n  };\r\n\r\n  useEffect(() => {\r\n    // if(props.restaurants.refreshRestaurants){\r\n    //   setLoading(true)\r\n    //   loadRestaurants();\r\n    // }\r\n    setLoading(true);\r\n    loadRestaurants();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"scroll\", handleScroll);\r\n    return () => window.removeEventListener(\"scroll\", handleScroll);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  });\r\n  const handleScroll = () => {\r\n    if (\r\n      window.innerHeight + document.documentElement.scrollTop !==\r\n      document.documentElement.offsetHeight\r\n    )\r\n      return;\r\n    getData();\r\n  };\r\n  const pushBack = () => history.goBack();\r\n  useEffect(() => {\r\n    getData();\r\n    setLoadMore(false);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [loadMore]);\r\n  const apiUrl =\r\n    baseUrl +\r\n    props.match.params.service +\r\n    \"/?branch=\" +\r\n    props.config.curBranch.bid;\r\n  const loadRestaurants = async () => {\r\n    setItems([]);\r\n    const options = {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=utf-8\",\r\n      },\r\n    };\r\n\r\n    const res = await (await fetchWithTimeout(apiUrl, options, 3000)).json();\r\n    if (res) {\r\n      //props.updateRestaurants(res);\r\n      props.setLoadedRestaurants(res);\r\n      setItems(res.shops);\r\n      setLoadedData(res.shops);\r\n      setLoading(false);\r\n    }\r\n  };\r\n  const noItems = (\r\n    <div\r\n      style={{\r\n        color: \"#2f4f4f\",\r\n        fontSize: \"20px\",\r\n        padding: \"40px\",\r\n        marginTop: \"20%\",\r\n        textAlign: \"center\",\r\n      }}\r\n    >\r\n      No Restaurants\r\n    </div>\r\n  );\r\n  const loadSpinner = (\r\n    <div>\r\n      <Spinner />\r\n    </div>\r\n  );\r\n  const afterLoading = (\r\n    <>\r\n      <div className=\"d-none d-sm-block\">\r\n        <Header />\r\n      </div>\r\n      <div className=\"d-block d-sm-none\">\r\n        <MblNavbar\r\n          heading={\r\n            props.match.params.service.charAt(0).toUpperCase() +\r\n              props.match.params.service.slice(1) || \"Shops\"\r\n          }\r\n          back={pushBack}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"all-product-grid mar-15\">\r\n        <Search\r\n          displayText={`Search ${\r\n            props.match.params.service.charAt(0).toUpperCase() +\r\n              props.match.params.service.slice(1) || \"Shops\"\r\n          }`}\r\n          handleSearch={handleSearch}\r\n          onClear={() => setSearchInput(\"\")}\r\n          value={searchInput}\r\n        />\r\n        {items.length > 0 ? (\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              {items.map((item) => (\r\n                <RItemNew data={item} key={item.id} />\r\n              ))}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          noItems\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n  return <>{loading ? loadSpinner : afterLoading}</>;\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    restaurants: state.restaurant,\r\n    config: state.config,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    updateRestaurants: (payload) =>\r\n      dispatch(actionCreators.updateRestaurants(payload)),\r\n    setLoadedRestaurants: (payload) =>\r\n      dispatch(actionCreators.setLoadedRestaurants(payload)),\r\n  };\r\n};\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(RestaurantList)\r\n);\r\n"],"sourceRoot":""}